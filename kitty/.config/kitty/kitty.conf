################################################################################
# THEME AND COLOR INCLUDES                                                       #
################################################################################
# Always include your color theme first so later overrides take effect.
# Using the `kitty_1/active-theme.conf` in this repo keeps colors in one place.
include /Users/pawan/mac_dotfiles/kitty/.config/kitty/active-theme.conf


################################################################################
# TERMINAL BASICS                                                                #
################################################################################
# Set the terminal type. `xterm-kitty` advertises Kitty capabilities. Changing
# this can break programs; keep it unless you really need a different TERM.
term xterm-kitty

# Default interactive shell. Use login mode so your profile/zprofile is loaded.
shell zsh --login

# Editor to open files (used by actions like save_as_session → open in $EDITOR).
editor nvim


################################################################################
# REMOTE CONTROL / IPC                                                           #
################################################################################
# Allow external tools (e.g., sketchybar, scripts) to query/control Kitty.
allow_remote_control yes

# Create a UNIX domain socket under /tmp for remote control commands. External
# scripts can target it via: kitten @ --to unix:/tmp/kitty-<pid> <subcommand>
listen_on unix:/tmp/kitty


################################################################################
# FONTS AND TEXT RENDERING                                                       #
################################################################################
# Font selection. Ensure the font is installed on the system.
font_family      JetBrainsMono Nerd Font Mono
# Font family and size
# font_family JetBrainsMono Nerd Font
bold_font JetBrainsMono Nerd Font
italic_font JetBrainsMono Nerd Font
bold_italic_font JetBrainsMono Nerd Font

font_size        20

# Optional alternates if you experiment with spacing/looks:
# bold_font        JetBrainsMono Nerd Font Mono Extra Bold
# bold_italic_font JetBrainsMono Nerd Font Mono Extra Bold Italic
# modify_font cell_width 95%          # Slightly tighter horizontal spacing
# modify_font cell_height 5px         # Add a bit of extra line height

# Ligature control. `never` disables ligatures; `always` forces them; `cursor`
# disables ligatures only where the cursor is.
disable_ligatures never


################################################################################
# SCROLLBACK, SELECTION, AND CLIPBOARD                                          #
################################################################################
# Keep a generous history for scrolling back through output.
scrollback_lines 10000

# Copy the selected text to clipboard immediately (no Cmd+C required).
copy_on_select yes

# Smarter trimming on copy: trims trailing spaces but preserves intentional ones.
strip_trailing_spaces smart

# Define what Kitty treats as a “word” when double‑click selecting.
select_by_word_characters :@-./_~?&=%+#0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ

# Use less as a pager for scrollback; +G jumps to end by default.
scrollback_pager "less --RAW-CONTROL-CHARS +G"


################################################################################
# MOUSE AND SCROLL WHEEL                                                        #
################################################################################
# Mouse wheel sensitivity (1.0 = default). Increase for faster scrolling.
wheel_scroll_multiplier 1.0

# Hide mouse pointer after N seconds of typing inactivity; 0 disables hiding.
mouse_hide_wait 3


################################################################################
# WINDOW APPEARANCE AND DECORATIONS                                             #
################################################################################
# Remove title bar for a cleaner look while keeping rounded corners visible.
hide_window_decorations titlebar-only
# hide_window_decorations

# Padding inside the terminal window (top right bottom left, in points).
window_padding_width 1 5 2 2

# Background translucency and blur. Lower opacity increases transparency.
background_opacity 0.78
dynamic_background_opacity yes
background_blur    3

# Cursor styling: color and shape. App UIs can still override at runtime.
cursor              #ebfafa
cursor_text_color   #0D1116
cursor_shape        beam
cursor_beam_thickness 1.5
cursor_underline_thickness 2.0

# Subtle motion trail helps follow big cursor jumps. Tweak decay/threshold.
cursor_trail 1
cursor_trail_decay 0.1 0.3
cursor_trail_start_threshold 2


################################################################################
# macOS-SPECIFIC BEHAVIOR                                                       #
################################################################################

# # macOS fullscreen that behaves like other apps (no separate Space).
# macos_traditional_fullscreen yes
#
# # Titlebar blends with background color for a unified look.
# macos_titlebar_color background
#
# # Do not repeat the window title in the app menubar (cleaner menubar).
# macos_show_window_title_in_menubar no
#
# # Slightly embolden glyph rasterization on macOS for readability.
# macos_thicken_font 0.2
#
# # Quit the app when the last window closes (set to no to keep it running).
# macos_quit_when_last_window_closed yes
#



# # Helper to refresh Sketchybar with the current Kitty session/window name.
# action_alias update_kitty_name launch --type=background /bin/zsh -c '"$HOME/github/dotfiles-latest/sketchybar/felixkratz-linkarzu/plugins/kitty_name.sh"'
# map ctrl+b>l combine : goto_session -1 : update_kitty_name

# Optional: start Kitty directly into a favorite session.
# startup_session /Users/pawan/mac_dotfiles/kitty_1/sessions/winhome.kitty-session


################################################################################
# PERFORMANCE TUNING                                                             #
################################################################################
# Lower values update the screen more frequently; higher can save energy.
repaint_delay 7
input_delay 2
sync_to_monitor yes


################################################################################
# TRANSPARENCY ADJUSTMENT HOTKEYS                                               #
################################################################################

# Opacity via macOS-style zoom keys
map ctrl+equal set_background_opacity +0.05
map ctrl+minus set_background_opacity -0.05
map ctrl+0 set_background_opacity 0.78


################################################################################
# BELLS, ALERTS, AND NOTIFICATIONS                                              #
################################################################################
# Disable the audio bell; optionally configure a brief visual bell instead.
enable_audio_bell no
# visual_bell_duration 0.08
# visual_bell_color #ffffff
# window_alert_on_bell yes


################################################################################
# SAFETY AND CONFIRMATIONS                                                      #
################################################################################
# Ask for confirmation when closing a window with multiple child windows/tabs.
confirm_os_window_close 2


################################################################################
# MISC QUALITY‑OF‑LIFE SETTINGS                                                 #
################################################################################
# Detect and allow clickable hyperlinks in the terminal output.
detect_urls yes
allow_hyperlinks yes

# Set the kitty modifier if you prefer building your own mappings with it.
# kitty_mod ctrl+shift



################################################################################
# KEYBINDINGS IMPORTED FROM BACKUP (kitty.conf.bk)
################################################################################
map cmd+a send_text all \x1bm
map cmd+. send_text all \x1b.
map cmd+d send_text all \x1bd
map cmd+b send_text all \x1bb
map cmd+t send_text all \x1bt
map cmd+f send_text all \x1bf
map ctrl+n send_text all \x0e
map cmd+r reload_config
map ctrl+space pipe @screen_scrollback overlay nvim - -c 'set ft=scrollback clipboard+=unnamedplus' -c 'nnoremap <buffer> q :qa!<CR>'
